<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Charvi's Website</title>
  <!-- Minified & Deferred CSS/JS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <!-- Your custom CSS here (minified if possible) -->
  <style>
    /* Base Styles with Modern Color Scheme */
:root {
--primary: #7F5AF0;
--primary-light: #9E7CF4;
--secondary: #2CB67D;
--accent: #FF8E3C;
--background: #F9F9FB;
--card-bg: #FFFFFF;
--text: #2B2C34;
--text-light: #72757E;

/* Dark mode variables */
--dark-background: #16161A;
--dark-card-bg: #242629;
--dark-text: #FFFFFE;
--dark-text-light: #94A1B2;
}

* {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}

body {
background-color: var(--background);
color: var(--text);
line-height: 1.6;
transition: all 0.3s ease;
}

.container {
max-width: 1200px;
margin: 0 auto;
padding: 20px;
}

header {
background: linear-gradient(135deg, var(--primary), var(--primary-light));
color: white;
text-align: center;
padding: 40px 20px;
border-radius: 10px;
margin-bottom: 30px;
box-shadow: 0 8px 20px rgba(127, 90, 240, 0.2);
position: relative;
overflow: hidden;
}

header::before {
content: "";
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.1) 45%, transparent 50%);
animation: shine 5s infinite linear;
}

@keyframes shine {
0% {
transform: translateX(-100%);
}
100% {
transform: translateX(100%);
}
}

h1 {
font-size: 2.8em;
margin-bottom: 10px;
position: relative;
z-index: 1;
}

.tagline {
font-size: 1.3em;
font-style: italic;
margin-bottom: 20px;
position: relative;
z-index: 1;
}

.profile-pic {
width: 150px;
height: 150px;
border-radius: 50%;
object-fit: cover;
border: 5px solid white;
margin: 0 auto 20px;
display: block;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
transition: transform 0.5s ease, box-shadow 0.3s ease;
position: relative;
z-index: 1;
background-color: #ddd;
}

.profile-pic:hover {
transform: scale(1.05);
box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

/* Modern Navigation */
nav {
background-color: var(--card-bg);
border-radius: 8px;
padding: 15px;
margin-bottom: 30px;
box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
position: sticky;
top: 15px;
z-index: 100;
transition: all 0.3s ease;
}

nav.scrolled {
padding: 10px 15px;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

nav ul {
list-style: none;
display: flex;
justify-content: center;
}

nav ul li {
margin: 0 15px;
}

nav ul li a {
text-decoration: none;
color: var(--text);
font-weight: 600;
transition: color 0.3s;
position: relative;
padding-bottom: 5px;
}

nav ul li a::after {
content: '';
position: absolute;
width: 0;
height: 2px;
bottom: 0;
left: 0;
background-color: var(--primary);
transition: width 0.3s ease;
}

nav ul li a:hover {
color: var(--primary);
}

nav ul li a:hover::after {
width: 100%;
}

/* Mobile Navigation */
.mobile-nav-toggle {
display: none;
background: none;
border: none;
font-size: 24px;
color: var(--text);
cursor: pointer;
}

/* Content Sections */
section {
background-color: var(--card-bg);
border-radius: 8px;
padding: 30px;
margin-bottom: 30px;
box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
position: relative;
transition: transform 0.3s ease, box-shadow 0.3s ease;
opacity: 0;
transform: translateY(20px);
}

section.visible {
opacity: 1;
transform: translateY(0);
}

section:hover {
transform: translateY(-5px);
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

h2 {
color: var(--primary);
margin-bottom: 20px;
border-bottom: 2px solid var(--background);
padding-bottom: 10px;
position: relative;
}

h2::after {
content: '';
position: absolute;
bottom: -2px;
left: 0;
width: 50px;
height: 2px;
background-color: var(--primary);
transition: width 0.3s ease;
}

section:hover h2::after {
width: 100px;
}

/* Special styling for login form heading */
.login-form h2 {
border-bottom: none;
text-align: center;
margin-bottom: 25px;
}

.login-form h2::after {
display: none;
}

/* Enhanced Gallery */
.gallery {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
gap: 20px;
margin-top: 20px;
}

.gallery-item {
height: 200px;
background-color: #eee;
border-radius: 8px;
overflow: hidden;
transition: transform 0.3s ease, box-shadow 0.3s ease;
cursor: pointer;
position: relative;
}

.gallery-item:hover {
transform: scale(1.03);
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
}

.gallery-item img {
width: 100%;
height: 100%;
object-fit: cover;
transition: transform 0.5s ease;
}

.gallery-item:hover img {
transform: scale(1.1);
}

.gallery-item .caption {
position: absolute;
bottom: 0;
left: 0;
right: 0;
padding: 10px;
background: rgba(0, 0, 0, 0.7);
color: white;
transform: translateY(100%);
transition: transform 0.3s ease;
}

.gallery-item:hover .caption {
transform: translateY(0);
}

/* Lightbox */
.lightbox {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.9);
display: none;
justify-content: center;
align-items: center;
z-index: 2000;
padding: 30px;
}

.lightbox-content {
position: relative;
max-width: 90%;
max-height: 80vh;
}

.lightbox img {
max-width: 100%;
max-height: 80vh;
border-radius: 5px;
object-fit: contain;
}

.lightbox-close {
position: absolute;
top: 20px;
right: 20px;
color: white;
font-size: 30px;
cursor: pointer;
z-index: 2001;
}

.lightbox-nav {
position: absolute;
top: 50%;
width: 100%;
display: flex;
justify-content: space-between;
padding: 0 20px;
transform: translateY(-50%);
}

.lightbox-prev, .lightbox-next {
color: white;
font-size: 30px;
cursor: pointer;
background: rgba(0, 0, 0, 0.5);
width: 50px;
height: 50px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
transition: background 0.3s ease;
}

.lightbox-prev:hover, .lightbox-next:hover {
background: rgba(0, 0, 0, 0.8);
}

.lightbox-caption {
position: absolute;
bottom: -40px;
left: 0;
right: 0;
text-align: center;
color: white;
font-size: 16px;
}

/* Footer */
footer {
text-align: center;
padding: 30px 0;
color: var(--text-light);
font-size: 0.9em;
position: relative;
}

.social-links {
display: flex;
justify-content: center;
flex-wrap: wrap;
gap: 15px;
margin-top: 20px;
}

.social-links a {
display: inline-flex;
align-items: center;
justify-content: center;
padding: 10px 20px;
background-color: var(--primary);
color: white;
border-radius: 5px;
text-decoration: none;
font-weight: 600;
transition: all 0.3s ease;
}

.social-links a i {
margin-right: 8px;
}

.social-links a:hover {
transform: translateY(-3px);
background-color: var(--primary-light);
box-shadow: 0 5px 15px rgba(127, 90, 240, 0.3);
}

/* Theme Switch */
.theme-switch {
position: fixed;
top: 20px;
right: 20px;
z-index: 100;
}

.theme-switch button {
background-color: rgba(0, 0, 0, 0.1);
border: none;
border-radius: 50%;
width: 40px;
height: 40px;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
font-size: 18px;
color: var(--text);
transition: all 0.3s ease;
}

.theme-switch button:hover {
background-color: rgba(0, 0, 0, 0.2);
transform: rotate(30deg);
}

/* Login Form */
.login-container {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.7);
display: flex;
justify-content: center;
align-items: center;
z-index: 1000;
backdrop-filter: blur(5px);
}

.login-form {
background-color: var(--card-bg);
padding: 30px;
border-radius: 10px;
box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
width: 350px;
max-width: 90%;
animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
from { opacity: 0; transform: translateY(-20px); }
to { opacity: 1; transform: translateY(0); }
}

.login-form h2 {
margin-bottom: 20px;
text-align: center;
color: var(--primary);
border-bottom: none;
}

.form-group {
margin-bottom: 20px;
position: relative;
}

.form-group label {
display: block;
margin-bottom: 5px;
font-weight: 600;
color: var(--text);
}

.form-group input {
width: 100%;
padding: 12px 15px;
border: 1px solid #ddd;
border-radius: 5px;
font-size: 16px;
transition: border-color 0.3s ease, box-shadow 0.3s ease;
background-color: var(--card-bg);
color: var(--text);
}

.form-group input:focus {
border-color: var(--primary);
box-shadow: 0 0 0 2px rgba(127, 90, 240, 0.2);
outline: none;
}

.form-group .error {
color: #e74c3c;
font-size: 14px;
margin-top: 5px;
display: none;
}

.form-group.error input {
border-color: #e74c3c;
}

.form-group.error .error {
display: block;
}

.form-group.success input {
border-color: var(--secondary);
}

.form-group .validation-icon {
position: absolute;
right: 10px;
top: 38px;
font-size: 16px;
display: none;
}

.form-group.error .validation-icon.error {
display: block;
color: #e74c3c;
}

.form-group.success .validation-icon.success {
display: block;
color: var(--secondary);
}

.btn {
padding: 12px 20px;
background-color: var(--primary);
color: white;
border: none;
border-radius: 5px;
cursor: pointer;
font-size: 16px;
font-weight: 600;
width: 100%;
transition: all 0.3s ease;
}

.btn:hover {
background-color: var(--primary-light);
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(127, 90, 240, 0.3);
}

.btn:active {
transform: translateY(0);
box-shadow: none;
}

.separator {
display: flex;
align-items: center;
text-align: center;
margin: 20px 0;
color: var(--text-light);
}

.separator::before, .separator::after {
content: '';
flex: 1;
border-bottom: 1px solid rgba(0,0,0,0.1);
margin: 0 8px;
}

.separator span {
padding: 0 5px;
font-size: 14px;
font-weight: 500;
color: var(--text-light);
}

.github-login {
background-color: #333;
}

.github-login:hover {
background-color: #222;
}

.login-message {
margin-top: 15px;
text-align: center;
color: #e74c3c;
font-size: 14px;
min-height: 20px;
}

/* User Controls */
.user-controls {
display: flex;
justify-content: space-between;
align-items: center;
padding: 15px 20px;
background-color: var(--card-bg);
border-radius: 8px;
margin-bottom: 20px;
box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
animation: fadeIn 0.5s ease;
}

.current-user {
font-weight: 600;
color: var(--primary);
display: flex;
align-items: center;
}

.current-user i {
margin-right: 8px;
}

.admin-badge {
display: inline-block;
background-color: var(--accent);
color: white;
padding: 3px 10px;
border-radius: 20px;
font-size: 12px;
margin-left: 10px;
animation: pulse 2s infinite;
}

@keyframes pulse {
0% { box-shadow: 0 0 0 0 rgba(255, 142, 60, 0.4); }
70% { box-shadow: 0 0 0 10px rgba(255, 142, 60, 0); }
100% { box-shadow: 0 0 0 0 rgba(255, 142, 60, 0); }
}

.logout-btn {
padding: 8px 15px;
background-color: #f0f0f0;
color: var(--text);
border: none;
border-radius: 5px;
cursor: pointer;
transition: all 0.3s ease;
display: flex;
align-items: center;
font-weight: 500;
}

.logout-btn i {
margin-right: 5px;
}

.logout-btn:hover {
background-color: #e0e0e0;
transform: translateY(-2px);
}

/* Admin Panel */
.admin-panel {
background-color: #fff8e1;
border-left: 4px solid var(--accent);
padding: 20px;
margin-bottom: 30px;
border-radius: 8px;
animation: slideInDown 0.5s ease;
position: relative;
}

.admin-panel h3 {
color: var(--accent);
margin-bottom: 10px;
}

/* Edit controls */
.edit-btn {
position: absolute;
top: 10px;
right: 10px;
background-color: var(--accent);
color: white;
border: none;
border-radius: 4px;
padding: 5px 10px;
font-size: 12px;
cursor: pointer;
display: none;
z-index: 10;
transition: all 0.3s ease;
}

.edit-btn:hover {
background-color: #e67e38;
transform: translateY(-2px);
}

.edit-modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.7);
display: none;
justify-content: center;
align-items: center;
z-index: 2000;
backdrop-filter: blur(5px);
}

.edit-form {
background-color: var(--card-bg);
padding: 30px;
border-radius: 10px;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
width: 600px;
max-width: 90%;
max-height: 90vh;
overflow-y: auto;
animation: zoomIn 0.3s ease;
}

@keyframes zoomIn {
from { opacity: 0; transform: scale(0.95); }
to { opacity: 1; transform: scale(1); }
}

.edit-form h3 {
margin-bottom: 20px;
color: var(--primary);
border-bottom: 2px solid var(--background);
padding-bottom: 10px;
}

.edit-form textarea {
width: 100%;
min-height: 150px;
padding: 15px;
border: 1px solid #ddd;
border-radius: 5px;
font-size: 16px;
margin-bottom: 20px;
resize: vertical;
background-color: var(--card-bg);
color: var(--text);
transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.edit-form textarea:focus {
border-color: var(--primary);
box-shadow: 0 0 0 2px rgba(127, 90, 240, 0.2);
outline: none;
}

.edit-form input {
width: 100%;
padding: 12px 15px;
border: 1px solid #ddd;
border-radius: 5px;
font-size: 16px;
margin-bottom: 15px;
background-color: var(--card-bg);
color: var(--text);
transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.edit-form input:focus {
border-color: var(--primary);
box-shadow: 0 0 0 2px rgba(127, 90, 240, 0.2);
outline: none;
}

.edit-form .btn-container {
display: flex;
justify-content: space-between;
gap: 15px;
}

.edit-form .file-input-container {
position: relative;
margin-bottom: 20px;
}

.edit-form .file-input-label {
display: block;
padding: 12px 15px;
background-color: #f0f0f0;
color: var(--text);
border-radius: 5px;
cursor: pointer;
text-align: center;
transition: all 0.3s ease;
}

.edit-form .file-input-label:hover {
background-color: #e0e0e0;
}

.edit-form .file-input {
position: absolute;
left: 0;
top: 0;
opacity: 0;
width: 100%;
height: 100%;
cursor: pointer;
}

.edit-form .file-name {
margin-top: 5px;
font-size: 14px;
color: var(--text-light);
}

.cancel-btn {
background-color: #f0f0f0;
color: var(--text);
}

.cancel-btn:hover {
background-color: #e0e0e0;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

/* Save Notification */
#saveNotification {
position: fixed;
bottom: 20px;
right: 20px;
background-color: var(--secondary);
color: white;
padding: 15px 25px;
border-radius: 5px;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
opacity: 0;
transform: translateY(20px);
transition: opacity 0.3s ease, transform 0.3s ease;
z-index: 9999;
display: flex;
align-items: center;
}

#saveNotification.show {
opacity: 1;
transform: translateY(0);
}

#saveNotification i {
margin-right: 10px;
font-size: 18px;
}

/* Loading overlay */
.loading-overlay {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.7);
display: flex;
justify-content: center;
align-items: center;
z-index: 3000;
backdrop-filter: blur(5px);
}

.loading-spinner {
width: 50px;
height: 50px;
border: 5px solid rgba(255, 255, 255, 0.3);
border-radius: 50%;
border-top-color: white;
animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
to { transform: rotate(360deg); }
}

/* Dark mode */
body.dark-mode {
background-color: var(--dark-background);
color: var(--dark-text);
}

body.dark-mode nav, 
body.dark-mode section, 
body.dark-mode .user-controls, 
body.dark-mode .edit-form,
body.dark-mode .login-form {
background-color: var(--dark-card-bg);
}

body.dark-mode h2 {
border-bottom-color: #2a2a40;
}

body.dark-mode nav ul li a {
color: var(--dark-text);
}

body.dark-mode .edit-form input, 
body.dark-mode .edit-form textarea,
body.dark-mode .form-group input {
background-color: var(--dark-background);
border-color: #2a2a40;
color: var(--dark-text);
}

body.dark-mode .cancel-btn,
body.dark-mode .logout-btn {
background-color: #2a2a40;
color: var(--dark-text);
}

body.dark-mode .form-group label,
body.dark-mode .edit-form label {
color: var(--dark-text);
}

.also-check-out {
  background-color: var(--card-bg);
  border-radius: 8px;
  padding: 30px;
  margin-bottom: 30px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}
.also-check-out h2 {
  color: var(--primary);
  margin-bottom: 20px;
  border-bottom: 2px solid var(--background);
  padding-bottom: 10px;
}
.also-check-out ul {
  list-style-type: disc;
  margin-left: 20px;
}
.also-check-out a {
  color: var(--primary);
  text-decoration: none;
  font-weight: 600;
  transition: color 0.3s;
}
.also-check-out a:hover {
  color: var(--accent);
  text-decoration: underline;
}
body.dark-mode footer {
color: var(--dark-text-light);
}

body.dark-mode .theme-switch button {
color: var(--dark-text);
}

body.dark-mode .admin-panel {
background-color: #2a2c3e;
border-left-color: var(--accent);
}

body.dark-mode .separator::before, 
body.dark-mode .separator::after {
border-bottom-color: rgba(255,255,255,0.1);
}

body.dark-mode .separator span {
color: var(--dark-text-light);
}

/* Animation classes */
.hidden {
display: none;
}

/* Responsive Design */
@media (max-width: 768px) {
header {
    padding: 30px 20px;
}

h1 {
    font-size: 1.8em;
}

/* Mobile Navigation */
nav ul {
    display: none;
    flex-direction: column;
    align-items: center;
    padding-top: 15px;
}

nav ul.active {
    display: flex;
}

nav ul li {
    margin: 10px 0;
    width: 100%;
    text-align: center;
}

.mobile-nav-toggle {
    display: block;
    position: absolute;
    right: 20px;
    top: 15px;
}

.gallery {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
}

.user-controls {
    flex-direction: column;
    gap: 15px;
    text-align: center;
}

.logout-btn {
    width: 100%;
    justify-content: center;
}

.edit-form {
    padding: 20px;
}

.lightbox-content {
    max-width: 95%;
}
}
  </style>
</head>
<body>
<!-- Loading Overlay -->
<div class="loading-overlay" id="loadingOverlay">
<div class="loading-spinner"></div>
</div>

<div class="theme-switch">
<button id="darkModeToggle"><i class="fas fa-moon"></i></button>
</div>

<div class="container" id="mainContent" style="display:none;">
<!-- User Controls -->
<div class="user-controls">
<div>
    <span class="current-user" id="currentUser"><i class="fas fa-user-circle"></i> Guest</span>
</div>
</div>

<header>
<img src="images/Picture.png" alt="Profile Picture" class="profile-pic" id="profilePic" loading ="lazy">
<h1 id="headerName">Charvi</h1>
<p class="tagline" id="tagline">Welcome To Charvi's Personal Site</p>
</header>

<nav>
  <button class="mobile-nav-toggle" id="mobileNavToggle">
    <i class="fas fa-bars"></i>
  </button>
  <ul id="navMenu">
    <li><a href="#about"><i class="fas fa-user"></i> About Me</a></li>
    <li><a href="#interests"><i class="fas fa-heart"></i> Interests</a></li>
    <li><a href="#gallery"><i class="fas fa-images"></i> Gallery</a></li>
    <li><a href="#contact"><i class="fas fa-envelope"></i> Contact</a></li>
    <li><a href="#also-check-out"><i class="fas fa-external-link-alt"></i> Also Check Out</a></li>
  </ul>
</nav>

<section id="about">
<h2>About Me</h2>
<div id="aboutContent">
    <p>Hi there! I'm Charvi. Welcome to my site. I am the co-founder of Little Chefs; please see the link in the 'Also Check Out' section. My passions, memories, and other information are listed on this website.</p>
</div>
</section>

<section id="interests">
<h2>My Interests</h2>
<p>These are some of the things I'm passionate about:</p>
<ul id="interestsList" style="margin-left:20px; margin-top:10px;">
    <li>Cooking</li>
    <li>Interest 2</li>
    <li>Interest 3</li>
    <li>Interest 4</li>
</ul>
</section>

<section id="gallery">
<h2>Gallery</h2>
<p>Some of my favorite moments and memories:</p>
<div id="galleryItems" class="gallery">
    <!-- Gallery items will be generated by JavaScript -->
</div>
</section>

<section id="contact">
<h2>Get In Touch</h2>
<p>Feel free to reach out to me through any of these platforms:</p>
<div id="contactLinks" class="social-links">
    <a href="mailto:astikspandey@gmail.com"><i class="fas fa-envelope"></i> Email</a>
    <a href="#"><i class="fas fa-phone"></i> Phone</a>
    <a href="#"><i class="fab fa-instagram"></i> Instagram</a>
    <a href="#"><i class="fab fa-linkedin"></i> LinkedIn</a>
</div>
</section>

<section id="also-check-out" class="also-check-out">
  <h2>Also Check Out</h2>
  <ul>
    <li>
      <a href="https://little-chefs.vercel.app" target="_blank" rel="noopener">
        Little Chefs
      </a>
    </li>
  </ul>
</section>
<footer>
<p>&copy; 2025 Charvi's Personal Website. All rights reserved.</p>
</footer>
</div>

<!-- Lightbox for Gallery -->
<div class="lightbox" id="lightbox">
<span class="lightbox-close" id="lightboxClose"><i class="fas fa-times"></i></span>
<div class="lightbox-content">
<img id="lightboxImage" src="" alt="Gallery Image">
<div class="lightbox-caption" id="lightboxCaption"></div>
</div>
<div class="lightbox-nav">
<span class="lightbox-prev" id="lightboxPrev"><i class="fas fa-chevron-left"></i></span>
<span class="lightbox-next" id="lightboxNext"><i class="fas fa-chevron-right"></i></span>
</div>
</div>

<!-- Save Notification -->
<div id="saveNotification">
<i class="fas fa-check-circle"></i> Changes saved successfully!
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" defer></script>
<script>
// Global variables
let darkModeEnabled = false;
let websiteContent = null;

// Default website content
const defaultWebsiteContent = {
    header: {
        tagline: "Welcome To Charvi's Personal Site",
        profilePic: "Picture.png"
    },
    about: `<p>Hi there! I'm Charvi, and welcome to my site. I am the co-founder of Little Chefs; please see the link in the 'Also Check Out' section. My passions, memories, and other information are listed on this website.</p>`,
    interests: ["Cooking", "Reading", "Photography", "Traveling"],
    gallery: [
        {url:"", caption:"Gallery Item 1"},
        {url:"", caption:"Gallery Item 2"},
        {url:"", caption:"Gallery Item 3"},
        {url:"", caption:"Gallery Item 4"},
        {url:"", caption:"Gallery Item 5"},
        {url:"", caption:"Gallery Item 6"}
    ],
    contact: {
        email: "astikspandey@gmail.com",
        phone: "",
        instagram: "",
        linkedin: ""
    }
};

// Helper function to get element by ID
function getElement(id) {
return document.getElementById(id);
}

// Show/hide loading overlay
function showLoading() {
    getElement("loadingOverlay").style.display = "flex";
    // Always hide after 1 second in case of error
    setTimeout(() => hideLoading(), 1000);
}

function hideLoading() {
    getElement("loadingOverlay").style.display = "none";
}

// Toggle dark mode (remove Firestore save)
function toggleDarkMode() {
darkModeEnabled = !darkModeEnabled;
document.body.classList.toggle("dark-mode");
getElement("darkModeToggle").innerHTML = darkModeEnabled ? 
'<i class="fas fa-sun"></i>' : 
'<i class="fas fa-moon"></i>';
}

// Toggle mobile navigation
function toggleMobileNav() {
const navMenu = getElement("navMenu");
navMenu.classList.toggle("active");

getElement("mobileNavToggle").innerHTML = navMenu.classList.contains("active") ? 
'<i class="fas fa-times"></i>' : 
'<i class="fas fa-bars"></i>';
}

// Setup navigation links
function setupNavLinks() {
document.querySelectorAll("nav a").forEach(link => {
link.addEventListener("click", function(e) {
    e.preventDefault();
    
    // Close mobile menu if open
    const navMenu = getElement("navMenu");
    if (navMenu.classList.contains("active")) {
        navMenu.classList.remove("active");
        getElement("mobileNavToggle").innerHTML = '<i class="fas fa-bars"></i>';
    }
    
    const targetId = this.getAttribute("href");
    const targetElement = getElement(targetId.substring(1));
    
    window.scrollTo({
        top: targetElement.offsetTop - 80,
        behavior: "smooth"
    });
});
});
}

// Add these functions before setupLightboxControls()

function closeLightbox() {
    const lightbox = getElement("lightbox");
    lightbox.style.display = "none";
}

function openLightbox(index) {
    const gallery = websiteContent.gallery || [];
    if (!gallery[index] || !gallery[index].url) return;
    getElement("lightboxImage").src = gallery[index].url;
    getElement("lightboxCaption").textContent = gallery[index].caption || "";
    getElement("lightbox").style.display = "flex";
    // Store current index for navigation
    window.currentGalleryIndex = index;
}

function showPrevImage() {
    const gallery = websiteContent.gallery || [];
    if (!gallery.length) return;
    window.currentGalleryIndex = (window.currentGalleryIndex - 1 + gallery.length) % gallery.length;
    openLightbox(window.currentGalleryIndex);
}

function showNextImage() {
    const gallery = websiteContent.gallery || [];
    if (!gallery.length) return;
    window.currentGalleryIndex = (window.currentGalleryIndex + 1) % gallery.length;
    openLightbox(window.currentGalleryIndex);
}

// Setup lightbox controls
function setupLightboxControls() {
try {
getElement("lightboxClose").addEventListener("click", closeLightbox);
getElement("lightboxPrev").addEventListener("click", showPrevImage);
getElement("lightboxNext").addEventListener("click", showNextImage);

// Close lightbox on Escape key
document.addEventListener("keydown", function(e) {
    if (e.key === "Escape" && getElement("lightbox").style.display === "flex") {
        closeLightbox();
    }
});
} catch (error) {
console.error("Error setting up lightbox controls:", error);
}
}

// Setup file upload
function setupFileUpload() {
try {
getElement("profilePicUpload").addEventListener("change", function() {
    if (this.files && this.files[0]) {
        getElement("profilePicFileName").textContent = this.files[0].name;
        
        // Read the file and convert to data URL for preview
        const reader = new FileReader();
        reader.onload = function(e) {
            getElement("editProfilePic").value = e.target.result;
        };
        reader.readAsDataURL(this.files[0]);
    }
});
} catch (error) {
console.error("Error setting up file upload:", error);
}
}

// Setup dark mode toggle
function setupDarkModeToggle() {
    getElement("darkModeToggle").addEventListener("click", toggleDarkMode);
}

// Render website content
function renderContent() {
    // Show all sections and make them visible
    document.querySelectorAll("section").forEach(sec => {
        sec.style.display = "";
        sec.classList.add("visible");
    });

    // Update header
    getElement("tagline").textContent = websiteContent.header.tagline;
    getElement("profilePic").src = websiteContent.header.profilePic;

    // Update about
    getElement("aboutContent").innerHTML = websiteContent.about;

    // Update interests
    const interestsList = getElement("interestsList");
    interestsList.innerHTML = "";
    (websiteContent.interests || []).forEach(interest => {
        const li = document.createElement("li");
        li.textContent = interest;
        interestsList.appendChild(li);
    });

    // Update gallery
    const galleryItems = getElement("galleryItems");
    galleryItems.innerHTML = "";
    (websiteContent.gallery || []).forEach((item, index) => {
        if (!item.url) return;
        const galleryItem = document.createElement("div");
        galleryItem.className = "gallery-item";
        const img = document.createElement("img");
        img.src = item.url;
        img.alt = item.caption || "Gallery image";
        galleryItem.appendChild(img);
        if (item.caption) {
            const caption = document.createElement("div");
            caption.className = "caption";
            caption.textContent = item.caption;
            galleryItem.appendChild(caption);
        }
        galleryItem.addEventListener("click", function() {
            openLightbox(index);
        });
        galleryItems.appendChild(galleryItem);
    });

    // Update contact links
    const contactLinks = getElement("contactLinks");
    contactLinks.innerHTML = "";
    if (websiteContent.contact.email) {
        contactLinks.innerHTML += `<a href="mailto:${websiteContent.contact.email}"><i class="fas fa-envelope"></i> Email</a>`;
    }
    if (websiteContent.contact.phone) {
        contactLinks.innerHTML += `<a href="tel:${websiteContent.contact.phone}"><i class="fas fa-phone"></i> Phone</a>`;
    }
    if (websiteContent.contact.instagram) {
        contactLinks.innerHTML += `<a href="${websiteContent.contact.instagram}"><i class="fab fa-instagram"></i> Instagram</a>`;
    }
    if (websiteContent.contact.linkedin) {
        contactLinks.innerHTML += `<a href="${websiteContent.contact.linkedin}"><i class="fab fa-linkedin"></i> LinkedIn</a>`;
    }
}

// Show a fake loading screen for 3 seconds, then show the site
window.onload = function() {
    getElement("mainContent").style.display = "none";
    getElement("loadingOverlay").style.display = "flex";
    setTimeout(function() {
        hideLoading();
        document.getElementById("mainContent").style.display = "block";
        websiteContent = {...defaultWebsiteContent};
        renderContent();
        setupNavLinks();
        setupLightboxControls();
        setupDarkModeToggle();
    }, 2000); // 3 seconds
};
</script>
</body>
</html>
